<? namespace Bitrix\Landing;$GLOBALS['____189145679']= array(base64_decode('ZG'.'Vm'.'aW'.'5l'),base64_decode('ZXh'.'w'.'bG9'.'kZQ'.'=='),base64_decode('c'.'GFjaw=='),base64_decode('bWQ'.'1'),base64_decode('Y29u'.'c3RhbnQ'.'='),base64_decode('a'.'GFzaF9'.'obWFj'),base64_decode('c3RyY21w'),base64_decode('Z'.'XhwbG9'.'kZ'.'Q=='),base64_decode('bWt0aW1'.'l'),base64_decode('d'.'GltZQ=='),base64_decode(''.'aW5f'.'YXJ'.'yYX'.'k='),base64_decode(''.'c'.'HJlZ19'.'yZX'.'BsY'.'WNl'.'X2'.'NhbGxiYWNr'),base64_decode('b'.'WJfc3Ryd'.'G9sb3dlcg=='),base64_decode('c3'.'RyX'.'3JlcGxhY2U='),base64_decode('cH'.'J'.'lZ'.'19'.'tYX'.'R'.'j'.'aA=='),base64_decode('cHJlZ19y'.'ZXBsYWNlX2'.'NhbGxiYWN'.'r'));if(!function_exists(__NAMESPACE__.'\\___870725351')){function ___870725351($_1745639837){static $_1952200387= false; if($_1952200387 == false) $_1952200387=array('TEFOREl'.'OR19NVV'.'RBVE9SX0'.'1'.'PR'.'EU=','b'.'GFu'.'ZGl'.'uZw==','b25'.'MYW5kaW5n'.'U3RhcnRQ'.'dWJsa'.'WN'.'hdGl'.'vbg==','aW'.'Q=','c2l0ZUl'.'k','Z'.'mlsdGV'.'y','IUlE',''.'UFV'.'CTE'.'lD'.'X1'.'BBR'.'0V'.'fUk'.'V'.'BQ0hFRA==','bGltaXRfc'.'2l0'.'ZXNfb'.'nVtYmVy'.'X3Bh'.'Z2U=','S'.'U5JV'.'ElBVE'.'9'.'SX0'.'F'.'QUF'.'9DT'.'0R'.'F',''.'cmVz'.'dA==','Z'.'m'.'lsd'.'GV'.'y','P'.'UN'.'PREU=','SU'.'5JVElB'.'VE9'.'SX0FQUF9'.'DT0RF','','UE'.'FZTUVO'.'VF9BTExPV'.'w==','WQ'.'==',''.'TEFORElOR'.'19Q'.'QVlNRU5U'.'X'.'0ZBSU'.'xFRA==','bG'.'FuZG'.'lu'.'Z19wYXltZW'.'5'.'0X'.'2Zha'.'W'.'xl'.'ZA'.'==','c'.'2V'.'sZW'.'N0','SUQ=','VF'.'lQRQ==',''.'Z'.'m'.'lsd'.'G'.'Vy','SUQ=',''.'PU'.'FDV'.'ElWRQ='.'=','Tg==',''.'Q0h'.'FQ0tfU'.'EVSTUlTU0lPTlM=','Tg==',''.'ZmlsdGVy','IUlE','S'.'U'.'Q=',''.'dHl'.'wZQ==','VFl'.'QRQ='.'=','UFVC'.'TEl'.'DX1NJ'.'VEV'.'fUkVBQ0hF'.'R'.'A==','bGltaX'.'Rfc2l0ZXNfbnVtYmVy','c'.'2VsZWN'.'0','SUQ=',''.'Zmlsd'.'GVy','U0lURV'.'9JRA'.'==','Q0'.'hFQ0tfU'.'EVSTUlTU0l'.'PTlM=','T'.'g==','SUQ=','c2V'.'sZWN0',''.'SUQ=','R'.'U5USVRZX1'.'R'.'ZUEU=','R'.'U5'.'USVRZX0lE','Zmls'.'dGVy',''.'TE9HSUM'.'=',''.'T1I=','PUVOVEl'.'U'.'WV9UW'.'VB'.'F','RU5'.'USVRZX0lE','PU'.'VOVE'.'l'.'U'.'WV9UWVBF','RU'.'5'.'USVRZ'.'X0l'.'E','PUhPT0s'.'=','S'.'EVBREJMT0NL','PUNPREU'.'=',''.'VVN'.'F','PVZBT'.'F'.'VF','W'.'Q==','bGl'.'ta'.'X'.'Q'.'=','UFVCTE'.'l'.'D'.'X0hUTUxf'.'RElTQUxMT1'.'dFRFs=','RU'.'5USVRZ'.'X1R'.'Z'.'UE'.'U=',''.'R'.'U5USVRZX0l'.'E','XQ='.'=','b'.'GltaXR'.'f'.'c'.'2l0'.'ZX'.'NfaHRtbF'.'9qcw==',''.'bGFu'.'Z'.'GluZw'.'==','b'.'25MYW'.'5k'.'aW5nUHVib'.'GljY'.'XRp'.'b24=','aWQ=','Yml0cml4Mj'.'Q=',''.'RE'.'I=','U0VM'.'RUNUI'.'FZBTFVFIEZ'.'ST00gYl9'.'vc'.'HRpb24'.'g'.'V0hFU'.'kUg'.'Tk'.'FN'.'RT0nf'.'lBBUk'.'FNX0ZJ'.'TklTSF9'.'EQ'.'VRF'.'JyB'.'BTkQgTU'.'9EVU'.'xF'.'X0l'.'EP'.'SdtYWlu'.'Jy'.'BBTkQg'.'U0l'.'U'.'RV9J'.'R'.'CBJU'.'yB'.'OVUx'.'M','Vk'.'F'.'MVUU=','Lg==','SCo=',''.'Ym'.'l0cm'.'l4','TE'.'lD'.'RU5'.'TRV'.'9L'.'RVk=',''.'c2'.'hhMjU2','MjAxOC0wM'.'S0wMQ'.'==','MjAxOC'.'0wMS0wMQ==',''.'LQ'.'==','T'.'ElDRU'.'5'.'TR'.'V9FWFBJUkV'.'E','T'.'EFORE'.'lO'.'R19MS'.'UN'.'FTlNFX'.'0VYU'.'ElSRUQ'.'=',''.'QUNUS'.'VZF','WQ'.'='.'=','UFVC'.'TEl'.'D','WQ='.'=','R'.'EFUR'.'V9QVUJM'.'SUM=','RE'.'FUR'.'V9NT0RJR'.'lk=','QUNUSVZ'.'F','W'.'Q==','Lyh'.'bXDsiXXswLDF9'.'KSNib'.'G9jayhbXGRdKykoW1'.'wmIl'.'17MCwx'.'fSkv'.'aX'.'M=','c2VsZWN'.'0','SUQ=','U'.'FVC'.'TElD','UEFSRU5UX'.'0'.'l'.'E','Q'.'0'.'9'.'ERQ==','U09S'.'VA==','QU'.'N'.'USVZF','QU5D'.'SE'.'9S','QUNDRVNT','Q09OVEVOVA==',''.'U0V'.'BUk'.'N'.'IX0NPTlRFTlQ=','U0'.'9VUkNFX1BB'.'UkFNUw==','QVNTRV'.'RT','WE1'.'M'.'X0'.'lE',''.'Z'.'ml'.'sd'.'GVy','TElE','PURFTEVU'.'R'.'UQ=','T'.'g==','SUQ=','UF'.'VC'.'TElD','WQ==','Q0'.'9'.'OVEVOV'.'A==',''.'L2hyZWZcPS'.'IjY2F0YWxv'.'Zyh'.'FbGVtZW50fFNlY'.'3R'.'pb24pKFt'.'c'.'ZF0rKSIv'.'a'.'Q'.'==',''.'aHJlZj0'.'i','Ig'.'==','Q09OVEVOVA'.'==','Q09OVEVO'.'V'.'A==',''.'Y29udGV'.'u'.'d'.'GVkaX'.'RhYmxlP'.'S'.'J0'.'cnVlIg='.'=','','Q'.'09'.'OV'.'EVOVA==',''.'UEFSR'.'U5UX0'.'lE',''.'UE'.'FS'.'RU5UX0l'.'E','SUQ=','U'.'09'.'SVA==','U'.'09SVA==','QUN'.'U'.'SVZF','QU'.'N'.'USVZF','Q'.'U5DS'.'E'.'9'.'S','QU5DSE'.'9'.'S',''.'WE1MX'.'0l'.'E','WE1MX'.'0lE','QUN'.'D'.'RVNT','QUNDRVNT','U09V'.'U'.'k'.'NFX1BBUkFN'.'Uw'.'==','U'.'09VUkNFX1'.'BBUkFN'.'U'.'w'.'==','Q09OVEVOVA==',''.'Q'.'09O'.'VE'.'VOVA'.'==','U'.'0'.'VBU'.'k'.'NIX'.'0N'.'PTlRF'.'TlQ=','U0VBUk'.'NIX0NP'.'TlRFTlQ=','QVNTRVRT','QVNTRVRT','UEFSRU5UX0l'.'E','Q'.'09OVEVOVA==','TEl'.'E','Q0'.'9E'.'RQ==','Q0'.'9ERQ==','U09SVA'.'==','U09'.'SV'.'A==',''.'Q'.'U5DS'.'E9S','QU5DSE9S','WE1'.'MX0l'.'E','WE1M'.'X0lE','Q'.'UNUSVZF',''.'QU'.'NUSVZF',''.'QUNDR'.'VNT','QUNDR'.'VNT','U09VUkNFX1BBUkFNU'.'w==','U09VU'.'kNFX'.'1BB'.'UkFNUw==','Q09OVE'.'VOV'.'A'.'==','Q'.'09OVEVOVA'.'==','U0VBUk'.'NIX0NPT'.'lRFTlQ=','U0VBUk'.'N'.'IX0N'.'PTlRFTlQ=',''.'QVN'.'TRV'.'RT',''.'QVNTR'.'VRT','UEFSRU5UX0lE','Q0'.'9OVEVOV'.'A==',''.'Q0'.'9OVE'.'V'.'OVA==',''.'Q09OVEVOVA==',''.'I2Jsb2Nr','I2Jsb2Nr','Q09OVEVOVA'.'==');return base64_decode($_1952200387[$_1745639837]);}}; use \Bitrix\Landing\Internals\HookDataTable as HookData; use \Bitrix\Landing\Assets; use \Bitrix\Landing\Block\Cache; use \Bitrix\Landing\Restriction; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; use \Bitrix\Rest\AppTable; Loc::loadMessages(__FILE__); $GLOBALS['____189145679'][0](___870725351(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_1368927490= array(); Manager::disableAllFeaturesTmp();  $_1534816103= new Event(___870725351(1), ___870725351(2), array( ___870725351(3) => $landing->getId(), ___870725351(4) => $landing->getSiteId())); $_1534816103->send(); foreach($_1534816103->getResults() as $_1914776557){ if($_1914776557->getType() == EventResult::ERROR){ foreach($_1914776557->getErrors() as $_864577431){ $landing->getError()->addError( $_864577431->getCode(), $_864577431->getMessage());} return false;}}  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___870725351(5) => array( ___870725351(6) => $landing->getId())))){ $landing->getError()->addError( ___870725351(7), Restriction\Manager::getSystemErrorMessage(___870725351(8))); return false;}  $_2076230367= $landing->getMeta(); if( isset($_2076230367[___870725351(9)]) && \Bitrix\Main\Loader::includeModule(___870725351(10))){ $_2104527658= AppTable::getList([ ___870725351(11) =>[ ___870725351(12) => $_2076230367[___870725351(13)]]]); if($_1395294017= $_2104527658->fetch()){ $_492456076= AppTable::getAppStatusInfo($_1395294017, ___870725351(14)); if($_492456076[___870725351(15)] != ___870725351(16)){ $landing->getError()->addError( ___870725351(17), Restriction\Manager::getSystemErrorMessage(___870725351(18))); return false;}}}  $_2104527658= Site::getList(array( ___870725351(19) => array( ___870725351(20), ___870725351(21)), ___870725351(22) => array( ___870725351(23) => $landing->getSiteId(), ___870725351(24) => ___870725351(25), ___870725351(26) => ___870725351(27)))); if($_1395294017= $_2104527658->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE, array( ___870725351(28) => array( ___870725351(29) => $_1395294017[___870725351(30)]), ___870725351(31) => $_1395294017[___870725351(32)]))){ $landing->getError()->addError( ___870725351(33), Restriction\Manager::getSystemErrorMessage(___870725351(34))); return false;}}  if(\Bitrix\Landing\Hook\Page\HeadBlock::isLockedFeature()){ $_28110820=[$landing->getId()];  $_2104527658= Landing::getList([ ___870725351(35) =>[ ___870725351(36)], ___870725351(37) =>[ ___870725351(38) => $landing->getSiteId(), ___870725351(39) => ___870725351(40)]]); while($_1395294017= $_2104527658->fetch()){ $_28110820[]= $_1395294017[___870725351(41)];} $_2104527658= HookData::getList([ ___870725351(42) =>[ ___870725351(43), ___870725351(44), ___870725351(45)], ___870725351(46) =>[[ ___870725351(47) => ___870725351(48),[ ___870725351(49) => Hook::ENTITY_TYPE_SITE, ___870725351(50) => $landing->getSiteId()],[ ___870725351(51) => Hook::ENTITY_TYPE_LANDING, ___870725351(52) => $_28110820]], ___870725351(53) => ___870725351(54), ___870725351(55) => ___870725351(56), ___870725351(57) => ___870725351(58)], ___870725351(59) => round(0+0.33333333333333+0.33333333333333+0.33333333333333)]); if($_1395294017= $_2104527658->fetch()){ $landing->getError()->addError( ___870725351(60). $_1395294017[___870725351(61)]. $_1395294017[___870725351(62)]. ___870725351(63), Restriction\Manager::getSystemErrorMessage(___870725351(64))); return false;}}  $_1534816103= new Event(___870725351(65), ___870725351(66), array( ___870725351(67) => $landing->getId())); $_1534816103->send(); foreach($_1534816103->getResults() as $_1914776557){ if($_1914776557->getResultType() == EventResult::ERROR){ foreach($_1914776557->getErrors() as $_864577431){ $landing->getError()->addError( $_864577431->getCode(), $_864577431->getMessage());} return false;}} if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___870725351(68))){ $_1602503671= $GLOBALS[___870725351(69)]->Query(___870725351(70), true); if($_2104527658= $_1602503671->Fetch()){ $_971148640= $_2104527658[___870725351(71)]; list($_445697829, $_231895403)= $GLOBALS['____189145679'][1](___870725351(72), $_971148640); $_669021642= $GLOBALS['____189145679'][2](___870725351(73), $_445697829); $_1970110828= ___870725351(74).$GLOBALS['____189145679'][3]($GLOBALS['____189145679'][4](___870725351(75))); $_1761337772= $GLOBALS['____189145679'][5](___870725351(76), $_231895403, $_1970110828, true); if($GLOBALS['____189145679'][6]($_1761337772, $_669021642) !==(174*2-348)){ $_231895403= ___870725351(77);}} else{ $_231895403= ___870725351(78);} if(!empty($_231895403)){ $_1724559792= $GLOBALS['____189145679'][7](___870725351(79), $_231895403); $_668794874= $GLOBALS['____189145679'][8]((1112/2-556),(1136/2-568),(1264/2-632), $_1724559792[round(0+0.25+0.25+0.25+0.25)], $_1724559792[round(0+2)], $_1724559792[min(138,0,46)]); if($_668794874 <= $GLOBALS['____189145679'][9]()){ $landing->getError()->addError( ___870725351(80), Loc::getMessage(___870725351(81))); return false;}}} Hook::setEditMode(); Hook::publicationSite($landing->getSiteId()); Hook::publicationLanding($landing->getId()); Assets\Manager::rebuildWebpackForLanding($landing->getId());  Block::publicationBlocks($landing); $_619935988= new \Bitrix\Main\Type\DateTime; $_2104527658= Landing::update($landing->getId(), array( ___870725351(82) => ___870725351(83), ___870725351(84) => ___870725351(85), ___870725351(86) => $_619935988, ___870725351(87) => false));  if($_2104527658->isSuccess()){ if(!$GLOBALS['____189145679'][10]($landing->getSiteId(), $_1368927490)){ $_1368927490[]= $landing->getSiteId(); $_2104527658= Site::update($landing->getSiteId(), array( ___870725351(88) => ___870725351(89))); if(!$_2104527658->isSuccess()){ $landing->getError()->addFromResult( $_2104527658); return false;}} return true;} else{ $landing->getError()->addFromResult( $_2104527658);} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_166300975= $landing->getId(); $_1933953919= array(); $_2113495503= array(); $_2127471013= array(); $_1371835962= ___870725351(90); $_2104527658= Block::getList(array( ___870725351(91) => array( ___870725351(92), ___870725351(93), ___870725351(94), ___870725351(95), ___870725351(96), ___870725351(97), ___870725351(98), ___870725351(99), ___870725351(100), ___870725351(101), ___870725351(102), ___870725351(103), ___870725351(104)), ___870725351(105) => array( ___870725351(106) => $landing->getId(), ___870725351(107) => ___870725351(108)))); while($_1395294017= $_2104527658->fetch()){ $_1933953919[$_1395294017[___870725351(109)]]= $_1395294017;}  foreach($_1933953919 as $_1992125788 => $_481801548){ if($_481801548[___870725351(110)] != ___870725351(111)){  $_481801548[___870725351(112)]= $GLOBALS['____189145679'][11]( ___870725351(113), function($_83202657){ return ___870725351(114). PublicAction\Utils::getIblockURL( $_83202657[round(0+1+1)], $GLOBALS['____189145679'][12]($_83202657[round(0+0.5+0.5)])). ___870725351(115);}, $_481801548[___870725351(116)]);  $_481801548[___870725351(117)]= $GLOBALS['____189145679'][13]( ___870725351(118), ___870725351(119), $_481801548[___870725351(120)]); $_426299150= isset($_1933953919[$_481801548[___870725351(121)]])? $_1933953919[$_481801548[___870725351(122)]][___870725351(123)]:(1352/2-676); if($_426299150){ Cache::clear($_426299150); $_2104527658= Block::update($_426299150, array( ___870725351(124) => $_481801548[___870725351(125)], ___870725351(126) => $_481801548[___870725351(127)], ___870725351(128) => $_481801548[___870725351(129)], ___870725351(130) => $_481801548[___870725351(131)], ___870725351(132) => $_481801548[___870725351(133)], ___870725351(134) => $_481801548[___870725351(135)], ___870725351(136) => $_481801548[___870725351(137)], ___870725351(138) => $_481801548[___870725351(139)], ___870725351(140) => $_481801548[___870725351(141)])); $_2104527658->isSuccess(); unset($_1933953919[$_481801548[___870725351(142)]]);  File::replaceInBlock( $_426299150, File::getFilesFromBlockContent( $_1992125788, $_481801548[___870725351(143)])); Assets\PreProcessing::blockPublicationProcessing(new Block($_426299150));} else{ $_2104527658= Block::add(array( ___870725351(144) => $_166300975, ___870725351(145) => $_481801548[___870725351(146)], ___870725351(147) => $_481801548[___870725351(148)], ___870725351(149) => $_481801548[___870725351(150)], ___870725351(151) => $_481801548[___870725351(152)], ___870725351(153) => $_481801548[___870725351(154)], ___870725351(155) => $_481801548[___870725351(156)], ___870725351(157) => $_481801548[___870725351(158)], ___870725351(159) => $_481801548[___870725351(160)], ___870725351(161) => $_481801548[___870725351(162)], ___870725351(163) => $_481801548[___870725351(164)])); if($_2104527658->isSuccess()){ $_426299150= $_2104527658->getId(); $_2104527658= Block::update($_1992125788, array( ___870725351(165) => $_426299150)); $_2104527658->isSuccess();  File::addToBlock( $_426299150, File::getFilesFromBlockContent( $_1992125788, $_481801548[___870725351(166)])); Assets\PreProcessing::blockPublicationProcessing(new Block($_426299150));}} if($GLOBALS['____189145679'][14]($_1371835962, $_481801548[___870725351(167)])){ $_2113495503[$_426299150]= $_481801548[___870725351(168)];} $_2127471013[$_1992125788]= $_426299150; unset($_1933953919[$_1992125788]);}}  foreach($_1933953919 as $_1992125788 => $_481801548){ $_2104527658= Block::delete($_1992125788); $_2104527658->isSuccess();}  foreach($_2113495503 as $_1992125788 => $_1371446721){ $_1371446721= $GLOBALS['____189145679'][15]( $_1371835962, function($_574959348) use($_2127471013){ if(isset($_2127471013[$_574959348[round(0+0.5+0.5+0.5+0.5)]])){ return $_574959348[round(0+1)]. ___870725351(169). $_2127471013[$_574959348[round(0+0.66666666666667+0.66666666666667+0.66666666666667)]]. $_574959348[round(0+1+1+1)];} else{ return $_574959348[round(0+1)]. ___870725351(170). $_574959348[round(0+0.4+0.4+0.4+0.4+0.4)]. $_574959348[round(0+0.75+0.75+0.75+0.75)];}}, $_1371446721); $_2104527658= Block::update($_1992125788, array( ___870725351(171) => $_1371446721)); $_2104527658->isSuccess();}}}}?>